@layer components {
  .note__templateContent {
    > :not(:first-child) {
      @apply mbs-2;
    }
    & :is(ul, ol) {
      @apply ms-5;
    }
    & ul {
      @apply list-disc;
    }
  }

  /* Heading permalinks generated by markdown-it-anchor */
  .heading-wrapper {
    @apply flex items-baseline gap-2 sm:-ms-5 sm:gap-0;
  }
  .heading-wrapper.heading-wrapper + p {
    /* top margin doesn't collapse with preceding paragraph because of flex */
    margin-block-start: 0;
  }
  p:has(+ .heading-wrapper.heading-wrapper) {
    /* bottom margin doesn't collapse with preceding paragraph because of flex */
    margin-block-end: 0;
  }
  .heading-wrapper > :is(h1, h2, h3, h4, h5, h6) {
    @apply ring-theme-600 rounded ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
  }
  :is(h1, h2, h3, h4, h5, h6):target {
    @apply outline-none;
  }
  :is(h1, h2, h3, h4, h5, h6):has(+ .heading-anchor:focus-visible) {
    @apply bg-theme-100 dark:bg-theme-900 ring;
  }
  .heading-anchor {
    @apply sm:is-5 text-2xl font-bold no-underline opacity-10 focus-visible:ring-0 sm:order-first;
  }
  :hover > .heading-anchor,
  :target + .heading-anchor,
  .heading-anchor:is(:focus-visible) {
    @apply text-theme-700 dark:text-theme-500 bg-transparent opacity-100;
  }
}
